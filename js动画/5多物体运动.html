<!DOCTYPE html>
<html>
<head>
	<title>多物体运动</title>
	<meta charset="utf-8">
	<style type="text/css">
	*{padding: 0;margin:0;}
	ul,li{list-style: none;}
	ul li{width: 200px;height: 100px;background: yellow;margin-bottom: 20px;
	}
	</style>
<script type="text/javascript">
	window.onload=function(){
/*		var aLi=document.getElementsByTagName('li');
		for(var i=0;i<=aLi.length;i++){
			aLi[i].timer=null;
		aLi[i].onmouseover=function(){
			startMove(this,400);
		};
		aLi[i].onmouseout=function(){
			startMove(this,200);
		};
	};
};
	//var timer=null;
	function startMove(obj,target){
		clearInterval(obj.timer); 
		obj.timer=setInterval(function(){
			var speed=(target-obj.offsetWidth)/8;
			speed=speed>0?Math.ceil(speed):Math.floor(speed);//给缓冲运动取整 
			if (obj.offsetWidth==target) {
				clearInterval(obj.timer);
			} else {
				obj.style.width=obj.offsetWidth+speed+'px'};
		},10);*/
	var oli=document.getElementsByTagName('li');
	for(var i=0;i<oli.length;i++){
		oli[i].timer=null;
		oli[i].onmouseover=function(){
		startMove(this,400);
		}
		oli[i].onmouseout=function(){
		startMove(this,200);
		}		
	}
	
	function startMove(obj,target){
	clearInterval(obj.timer);
	obj.timer=setInterval(function(){
	//获取当前值
	//设置speed
	var speed=(target-obj.offsetWidth)/8;
	speed=speed>0?Math.ceil(speed):Math.floor(speed);
	//判断当前值和目标值
	if(target==obj.offsetWidth){
	clearInterval(obj.timer);}else{
	obj.style.width=obj.offsetWidth+speed+'px';}
	},30);
	}
	
	}
</script>
<body>
<ul>
	<li></li>
	<li></li>
	<li></li>
</ul>
</body>
</html>