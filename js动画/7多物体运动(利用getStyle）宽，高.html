<!-- 用getstyle解决offset下一些小bug ，利用getstyle获得属性，height，width等
在offsetWidth下，若添加border则运动效果与代码写得有出入。 -->
<!DOCTYPE html>
<html>
<head>
	<title>多物体运动</title>
	<meta charset="utf-8">
	<style type="text/css">
	*{padding: 0;margin:0;}
	ul,li{list-style: none;}
	ul li{width: 200px;height: 100px;background: yellow;margin-bottom: 20px;
	border:4px solid #000;
}
	</style>
<script type="text/javascript">
/*	window.onload=function(){
	 var Li1=document.getElementById('li1');
	 var Li2=document.getElementById('li2');
	 Li1.onmouseover=function(){
	 	startMove(this,'height',400);
	 };
	 Li1.onmouseout=function(){
	 	startMove(this,'height',100);
	 };

	 Li2.onmouseover=function(){
	 	startMove(this,'width',400);
	 };
	 Li2.onmouseout=function(){
	 	startMove(this,'width',200);
	 };
};
	//var timer=null;
	function startMove(obj,attr,target){
		clearInterval(obj.timer); 
		obj.timer=setInterval(function(){
			var icur=parseInt(getStyle(obj,attr));//此句话意思==oDiv.offsetWidth
			var speed=(target-icur)/8;
			speed=speed>0?Math.ceil(speed):Math.floor(speed);//变速
			if (icur==target) {
				clearInterval(obj.timer);
			} else {
				obj.style[attr]=icur+speed+'px'};
		},10);
	}

	function getStyle(obj,attr){
 	if (obj.currentStyle) {
 		return obj.currentStyle[attr];//针对IE浏览器	
 	} else {
 		return getComputedStyle(obj,false)[attr];//针对火狐浏览器
 
 	}
 }*/
 window.onload=function(){
	 var li1=document.getElementById('li1');
	 var li2=document.getElementById('li2');
	 li1.onmouseover=function(){
	 	startMove(this,'height',400)
	 }
	 li1.onmouseout=function(){
	 	startMove(this,'height',100)
	 }
	 li2.onmouseover=function(){
	 	startMove(this,'width',400)
	 }
	 li2.onmouseout=function(){
	 	startMove(this,'width',200)
	 }
 	var timer=null;
 	function startMove(obj,attr,target){
		clearInterval(obj.timer);
		obj.timer=setInterval(function(){
			//获得当前值
			var icur=parseInt(getStyle(obj,attr));
			//定义速度（增量）
			var speed=(target-icur)/8;
			speed=speed>0?Math.ceil(speed):Math.floor(speed);
			//判断当前值和目标值是否相等
			if(icur==target){
				clearInterval(obj.timer);
			}else{
				obj.style[attr]=icur+speed+'px';
			}
		},30);
		}
 
	 function getStyle(obj,attr){
		if (obj.currentStyle) {
			return obj.currentStyle[attr];//针对IE浏览器	
		} else {
			return getComputedStyle(obj,false)[attr];//针对火狐浏览器
		}
	 }

}
</script>
<body>
<ul>
	<li id="li1"></li>
	<li id="li2"></li>
	<li id="li3"></li>
</ul>
</body>
</html>